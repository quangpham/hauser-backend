angular.module("templates-app",["bookings/index.tpl.html","houses/detail.tpl.html","houses/index.tpl.html","menu.tpl.html","messages/index.tpl.html","messages/modals/new.tpl.html","myhouses/calendar/calendar-index.tpl.html","myhouses/calendar/modals/facility_booking_detail.tpl.html","myhouses/contact.tpl.html","myhouses/info/info-index.tpl.html","myhouses/info/modals/energy_consumption.tpl.html","myhouses/info/modals/financial_information.tpl.html","myhouses/info/modals/general_meeting_notes.tpl.html","myhouses/info/modals/renovation_status.tpl.html","myhouses/info/modals/rules.tpl.html","myhouses/nearby.tpl.html","myhouses/pinboard/modals/new_pin.tpl.html","myhouses/pinboard/pinboard-index.tpl.html","myhouses/tabs.tpl.html","user/info.add_house.tpl.html","user/info.edit_basic_info.tpl.html","user/info.edit_house_info.tpl.html","user/info.tpl.html","user/login.tpl.html"]),angular.module("bookings/index.tpl.html",[]).run(["$templateCache",function(a){a.put("bookings/index.tpl.html",'<ion-view title="My Calendar"><ion-nav-buttons side="left"><button menu-toggle="left" class="button button-icon icon ion-navicon"></button></ion-nav-buttons><ion-nav-buttons side="right"><button class="button-icon button disable-user-behavior icon ion-ios7-plus-empty" ng-click="triggerActionSheet()"></button></ion-nav-buttons><ion-content class="has-header" bindonce="my_bookings"><div class="padding" bo-if="my_bookings.length > 0"><div class="list" ng-repeat="booking in my_bookings"><div class="item item-divider" bo-text="booking.date"></div><a class="item item-icon-right" ng-repeat="slot in booking.slots"><span bo-text="slot.booking_slot + \' : \' +slot.facility_name"></span> <i class="icon ion-ios7-minus" ng-click="deleteBookingSlot(slot)"></i></a></div></div><div bo-if="my_bookings.length == 0"><div class="card"><div class="item item-text-wrap"><h2>Sauna, laundry, gym and common can be booked here.</h2><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus sollicitudin tristique urna. Pellentesque tellus justo, pharetra eu est sit amet, rhoncus elementum turpis. Sed tincidunt lobortis neque</p></div></div><div class="list card"><div class="item item-divider">Facilities\' calendar</div><a class="item item-icon-left" ng-repeat="facility in facilities" ng-click="openFacilityBookingDetail(facility)"><i class="icon ion-clock"></i> <span bo-text="facility.name"></span></a></div></div></ion-content></ion-view>')}]),angular.module("houses/detail.tpl.html",[]).run(["$templateCache",function(a){a.put("houses/detail.tpl.html",'<ion-view title="{{house.info.address}}"><ion-content class="has-header" bindonce="house"><div class="list padding"><img class="full-image" bo-src="house.info.thumbnail"></div><div class="card"><div class="item item-divider">House description</div><div class="item item-text-wrap"><p>Feget vulputate condimentum, nulla lectus sollicitudin velit, non vestibulum mauris arcu eu nulla.</p><p>Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Donec molestie condimentum nisi, vel suscipit lectus rhoncus nec.</p><p>Praesent rhoncus lacus id lorem aliquam, varius lobortis nulla laoreet.</p><p>Pellentesque vitae mauris a magna varius ullamcorper sit amet eu tortor. Duis non congue lectus. Cras lectus diam, dapibus in tincidunt sit amet, ultrices vel nulla. Nunc nec tortor mauris.</p></div></div><div class="list card"><div class="item item-divider">General Information</div><a class="item item-icon-left" ng-click="openInfoModal(\'rules\', \'Rules\')"><i class="icon ion-clipboard"></i> House\'s rules</a> <a class="item item-icon-left" ng-click="openInfoModal(\'renovation_status\', \'Renovation status\')"><i class="icon ion-more"></i> Renovation status</a> <a class="item item-icon-left" ng-click="openInfoModal(\'energy_consumption\', \'Energy Consumption\')"><i class="icon ion-arrow-graph-up-right"></i> Energy Consumption</a> <a class="item item-icon-left" ng-click="openInfoModal(\'financial_information\', \'Financial information\')"><i class="icon ion-card"></i> Financial information</a> <a class="item item-icon-left" ng-click="openInfoModal(\'general_meeting_notes\', \'General meeting notes\')"><i class="icon ion-folder"></i> General meeting notes</a></div><div class="list padding"><button class="button button-block button-light" ng-click="join_house()">Moving in? Join this house</button></div><br></ion-content></ion-view>')}]),angular.module("houses/index.tpl.html",[]).run(["$templateCache",function(a){a.put("houses/index.tpl.html",'<ion-view title="Houses"><ion-nav-buttons side="left"><button menu-toggle="left" class="button button-icon icon ion-navicon"></button></ion-nav-buttons><ion-content class="has-header" bindonce="houses"><div class="list"><a class="item item-thumbnail-left" ng-repeat="house in houses" ui-sref="app.house({houseId:house.id})"><img bo-src="house.thumbnail"><h3 bo-text="house.address"></h3></a></div></ion-content></ion-view>')}]),angular.module("menu.tpl.html",[]).run(["$templateCache",function(a){a.put("menu.tpl.html",'<ion-side-menus><ion-pane ion-side-menu-content drag-content="false"><ion-nav-bar class="bar-stable nav-title-slide-ios7"><ion-nav-back-button class="button-clear"><i class="icon ion-ios7-arrow-back"></i></ion-nav-back-button></ion-nav-bar><ion-nav-view name="menuContent" animation="slide-left-right"></ion-nav-view></ion-pane><ion-side-menu side="left"><ion-content has-header="false" scroll="false"><ion-list><ion-item nav-clear menu-close ui-sref="app.houses" ng-if="current_userid > 0 && user_house_id < 0" class="item item-icon-left"><i class="icon ion-ios7-home-outline"></i> Houses</ion-item><ion-item nav-clear menu-close ui-sref="app.myhouses.pinboard({ houseId: user_house_id })" ng-if="current_userid > 0 && user_house_id > 0" class="item item-icon-left"><i class="icon ion-ios7-home-outline"></i> My house</ion-item><ion-item nav-clear menu-close ui-sref="app.bookings" ng-if="current_userid > 0 && user_house_id > 0" class="item item-icon-left"><i class="icon ion-ios7-calendar-outline"></i> Calendar</ion-item><ion-item nav-clear menu-close ui-sref="app.messages" ng-if="current_userid > 0" class="item item-icon-left"><i class="icon ion-ios7-email-outline"></i> Mailbox</ion-item><ion-item nav-clear menu-close ui-sref="app.user_login" ng-if="current_userid < 0" class="item item-icon-left"><i class="icon ion-ios7-person-outline"></i> Login</ion-item><ion-item nav-clear menu-close ui-sref="app.user_info" ng-if="current_userid > 0" class="item item-icon-left"><i class="icon ion-ios7-gear-outline"></i> Settings</ion-item><ion-item nav-clear menu-close ng-click="logout()" ng-if="current_userid > 0" class="item item-icon-left"><i class="icon ion-ios7-redo-outline"></i> Logout</ion-item></ion-list></ion-content></ion-side-menu><ion-side-menu side="right"></ion-side-menu></ion-side-menus>')}]),angular.module("messages/index.tpl.html",[]).run(["$templateCache",function(a){a.put("messages/index.tpl.html",'<ion-view title="Messages"><ion-nav-buttons side="left"><button menu-toggle="left" class="button button-icon icon ion-navicon"></button></ion-nav-buttons><ion-nav-buttons side="right"><button class="button-icon button disable-user-behavior icon ion-ios7-plus-empty" ng-click="triggerNewMessageModal()"></button></ion-nav-buttons><ion-content class="has-header"><div class="list"><a class="item item-avatar" ng-repeat="message in messages"><img ng-src="{{message.thumb}}"><h2>{{message.from}}</h2><p>{{message.content}}</p></a></div></ion-content></ion-view>')}]),angular.module("messages/modals/new.tpl.html",[]).run(["$templateCache",function(a){a.put("messages/modals/new.tpl.html",'<div class="modal"><ion-header-bar class="bar-sd-header"><h1 class="title">{{modal.title}}</h1><div class="buttons"><button class="button-icon button disable-user-behavior icon ion-ios7-close-empty" ng-click="closeModal()"></button></div></ion-header-bar><ion-content class="has-header" ng-controller="HMessagesIndex_NewMessage_Ctrl"><div class="list"><label class="item item-input"><input type="text" placeholder="Title" ng-model="message.title"></label><label class="item item-input"><textarea placeholder="Content" ng-model="message.description"></textarea></label></div><div class="padding"><button class="button button-block" ng-click="sendMessage(message)">Send</button></div></ion-content></div>')}]),angular.module("myhouses/calendar/calendar-index.tpl.html",[]).run(["$templateCache",function(a){a.put("myhouses/calendar/calendar-index.tpl.html",'<ion-content class="has-header has-tabs"><div class="card"><div class="item item-text-wrap"><h2>Sauna, laundry, gym and common can be booked here.</h2><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus sollicitudin tristique urna. Pellentesque tellus justo, pharetra eu est sit amet, rhoncus elementum turpis. Sed tincidunt lobortis neque</p></div></div><div class="list card"><div class="item item-divider">Facilities\' calendar</div><a class="item item-icon-left" ng-repeat="facility in facilities" ng-click="openFacilityBookingDetail(facility)"><i class="icon ion-calendar"></i> {{facility.name}}</a></div></ion-content>')}]),angular.module("myhouses/calendar/modals/facility_booking_detail.tpl.html",[]).run(["$templateCache",function(a){a.put("myhouses/calendar/modals/facility_booking_detail.tpl.html",'<div class="modal"><ion-header-bar class="bar-sd-header"><h1 class="title">{{modal.title}}</h1><div class="buttons"><button class="button-icon button disable-user-behavior icon ion-ios7-close-empty" ng-click="closeModal()"></button></div></ion-header-bar><ion-content class="has-header facility-booking-detail-content" ng-controller="HMyHousesCalendar_FacilityBookingDetailModal_Ctrl"><ion-scroll direction="x" id="date-scroll"><div class="date-item" ng-repeat="date in date_arr" ng-click="select_date(date)" ng-class="{selected: date == current_date}">{{date | amDateFormat:\'dd DD\'}}</div></ion-scroll><div class="date-detail">{{current_date | amDateFormat:\'dddd, MMMM Do YYYY\'}}</div><div class="padding"><div ng-repeat="slot in slot_arr"><button class="button button-block button-light" ng-if="!bookings[current_date_string][slot]" ng-click="book_slot(slot, current_date)">{{slot}}: Free</button> <button class="button button-block button-assertive" ng-if="bookings[current_date_string][slot]">{{slot}}: {{bookings[current_date_string][slot][\'user\']}}</button></div></div></ion-content></div>')}]),angular.module("myhouses/contact.tpl.html",[]).run(["$templateCache",function(a){a.put("myhouses/contact.tpl.html",'<ion-content class="has-header has-tabs"><div class="list card"><div class="item item-divider">Contact Information</div><a class="item item-icon-left"><i class="icon ion-ios7-telephone"></i> Call housing manager</a> <a class="item item-icon-left"><i class="icon ion-ios7-telephone"></i> Call maintenance officer</a></div><div class="list card"><div class="item item-divider">Report & Feedback</div><a class="item item-icon-left"><i class="icon ion-alert-circled"></i> Fault Report</a> <a class="item item-icon-left"><i class="icon ion-chatbox-working"></i> Services\' feedback</a></div></ion-content>')}]),angular.module("myhouses/info/info-index.tpl.html",[]).run(["$templateCache",function(a){a.put("myhouses/info/info-index.tpl.html",'<ion-content class="has-header has-tabs" bindonce="house"><div class="list padding"><img class="full-image" bo-src="house.info.thumbnail"></div><div class="card"><div class="item item-divider">House description</div><div class="item item-text-wrap"><p>Feget vulputate condimentum, nulla lectus sollicitudin velit, non vestibulum mauris arcu eu nulla.</p><p>Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Donec molestie condimentum nisi, vel suscipit lectus rhoncus nec.</p><p>Praesent rhoncus lacus id lorem aliquam, varius lobortis nulla laoreet.</p><p>Pellentesque vitae mauris a magna varius ullamcorper sit amet eu tortor. Duis non congue lectus. Cras lectus diam, dapibus in tincidunt sit amet, ultrices vel nulla. Nunc nec tortor mauris.</p></div></div><div class="list card"><div class="item item-divider">General Information</div><a class="item item-icon-left" ng-click="openInfoModal(\'rules\', \'Rules\')"><i class="icon ion-clipboard"></i> House\'s rules</a> <a class="item item-icon-left" ng-click="openInfoModal(\'renovation_status\', \'Renovation status\')"><i class="icon ion-more"></i> Renovation status</a> <a class="item item-icon-left" ng-click="openInfoModal(\'energy_consumption\', \'Energy Consumption\')"><i class="icon ion-arrow-graph-up-right"></i> Energy Consumption</a> <a class="item item-icon-left" ng-click="openInfoModal(\'financial_information\', \'Financial information\')"><i class="icon ion-card"></i> Financial information</a> <a class="item item-icon-left" ng-click="openInfoModal(\'general_meeting_notes\', \'General meeting notes\')"><i class="icon ion-folder"></i> General meeting notes</a></div><div class="list padding"><button class="button button-block button-light" ng-click="join_house()" ng-if="!house.is_member">Moving in? Join this house</button> <button class="button button-block button-assertive" ng-click="leave_house()" ng-if="house.is_member">Moving out? Leave this house</button></div></ion-content>')}]),angular.module("myhouses/info/modals/energy_consumption.tpl.html",[]).run(["$templateCache",function(a){a.put("myhouses/info/modals/energy_consumption.tpl.html",'<div class="modal"><ion-header-bar class="bar-sd-header"><h1 class="title">{{modal.title}}</h1><div class="buttons"><button class="button-icon button disable-user-behavior icon ion-ios7-close-empty" ng-click="closeModal()"></button></div></ion-header-bar><ion-content class="has-header" ng-controller="HMyHousesInfoModal_Energy_Consumption_Ctrl"><div class="list card"><div class="item item-divider">General Consumption</div><nvd3-line-chart data="general_consumption.data" showxaxis="true" showyaxis="true" height="300" interactive="true" showlegend="true" xaxistickformat="general_consumption.xAxisTickFormatFunction()"><svg></svg></nvd3-line-chart></div><div class="list card"><div class="item item-divider">Energy Use</div><nvd3-pie-chart data="energy_use.data" id="exampleId" height="350" x="energy_use.xFunction()" y="energy_use.yFunction()" showlabels="true"><svg></svg></nvd3-pie-chart></div></ion-content></div>')}]),angular.module("myhouses/info/modals/financial_information.tpl.html",[]).run(["$templateCache",function(a){a.put("myhouses/info/modals/financial_information.tpl.html",'<div class="modal"><ion-header-bar class="bar-sd-header"><h1 class="title">{{modal.title}}</h1><div class="buttons"><button class="button-icon button disable-user-behavior icon ion-ios7-close-empty" ng-click="closeModal()"></button></div></ion-header-bar><ion-content class="has-header" ng-controller="HMyHousesInfoModal_FinancialInformation_Ctrl"><div class="card"><div class="item item-text-wrap"><p>Feget vulputate condimentum, nulla lectus sollicitudin velit, non vestibulum mauris arcu eu nulla.</p><p>Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Donec molestie condimentum nisi, vel suscipit lectus rhoncus nec.</p><p>Praesent rhoncus lacus id lorem aliquam, varius lobortis nulla laoreet.</p><p>Pellentesque vitae mauris a magna varius ullamcorper sit amet eu tortor. Duis non congue lectus. Cras lectus diam, dapibus in tincidunt sit amet, ultrices vel nulla. Nunc nec tortor mauris.</p></div></div></ion-content></div>')}]),angular.module("myhouses/info/modals/general_meeting_notes.tpl.html",[]).run(["$templateCache",function(a){a.put("myhouses/info/modals/general_meeting_notes.tpl.html",'<div class="modal"><ion-header-bar class="bar-sd-header"><h1 class="title">{{modal.title}}</h1><div class="buttons"><button class="button-icon button disable-user-behavior icon ion-ios7-close-empty" ng-click="closeModal()"></button></div></ion-header-bar><ion-content class="has-header" ng-controller="HMyHousesInfoModal_GeneralMeetingNotes_Ctrl"><div class="list card"><div class="item item-text-wrap"><p>Feget vulputate condimentum, nulla lectus sollicitudin velit, non vestibulum mauris arcu eu nulla.</p><p>Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Donec molestie condimentum nisi, vel suscipit lectus rhoncus nec.</p><p>Praesent rhoncus lacus id lorem aliquam, varius lobortis nulla laoreet.</p><p>Pellentesque vitae mauris a magna varius ullamcorper sit amet eu tortor. Duis non congue lectus. Cras lectus diam, dapibus in tincidunt sit amet, ultrices vel nulla. Nunc nec tortor mauris.</p></div></div></ion-content></div>')}]),angular.module("myhouses/info/modals/renovation_status.tpl.html",[]).run(["$templateCache",function(a){a.put("myhouses/info/modals/renovation_status.tpl.html",'<div class="modal"><ion-header-bar class="bar-sd-header"><h1 class="title">{{modal.title}}</h1><div class="buttons"><button class="button-icon button disable-user-behavior icon ion-ios7-close-empty" ng-click="closeModal()"></button></div></ion-header-bar><ion-content class="has-header" ng-controller="HMyHousesInfoModal_RenovationStatus_Ctrl"><div class="list padding"><img class="full-image" src="http://bryanrubenau.com/wp-content/uploads/burndown1.png"></div><div class="list card"><nvd3-line-chart data="exampleData" showxaxis="true" showyaxis="true" height="300" interactive="true" showlegend="true" xaxistickformat="xAxisTickFormatFunction()"><svg></svg></nvd3-line-chart></div></ion-content></div>')}]),angular.module("myhouses/info/modals/rules.tpl.html",[]).run(["$templateCache",function(a){a.put("myhouses/info/modals/rules.tpl.html",'<div class="modal"><ion-header-bar class="bar-sd-header"><h1 class="title">{{modal.title}}</h1><div class="buttons"><button class="button-icon button disable-user-behavior icon ion-ios7-close-empty" ng-click="closeModal()"></button></div></ion-header-bar><ion-content class="has-header" ng-controller="HMyHousesInfoModal_Rules_Ctrl"><div class="card"><div class="item item-divider">Rules 1</div><div class="item item-text-wrap"><p>Feget vulputate condimentum, nulla lectus sollicitudin velit, non vestibulum mauris arcu eu nulla.</p><p>Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Donec molestie condimentum nisi, vel suscipit lectus rhoncus nec.</p><p>Praesent rhoncus lacus id lorem aliquam, varius lobortis nulla laoreet.</p><p>Pellentesque vitae mauris a magna varius ullamcorper sit amet eu tortor. Duis non congue lectus. Cras lectus diam, dapibus in tincidunt sit amet, ultrices vel nulla. Nunc nec tortor mauris.</p></div></div><div class="card"><div class="item item-divider">Rules 2</div><div class="item item-text-wrap"><p>Feget vulputate condimentum, nulla lectus sollicitudin velit, non vestibulum mauris arcu eu nulla.</p><p>Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Donec molestie condimentum nisi, vel suscipit lectus rhoncus nec.</p><p>Praesent rhoncus lacus id lorem aliquam, varius lobortis nulla laoreet.</p><p>Pellentesque vitae mauris a magna varius ullamcorper sit amet eu tortor. Duis non congue lectus. Cras lectus diam, dapibus in tincidunt sit amet, ultrices vel nulla. Nunc nec tortor mauris.</p></div></div><div class="card"><div class="item item-divider">Rules 3</div><div class="item item-text-wrap"><p>Feget vulputate condimentum, nulla lectus sollicitudin velit, non vestibulum mauris arcu eu nulla.</p><p>Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Donec molestie condimentum nisi, vel suscipit lectus rhoncus nec.</p><p>Praesent rhoncus lacus id lorem aliquam, varius lobortis nulla laoreet.</p><p>Pellentesque vitae mauris a magna varius ullamcorper sit amet eu tortor. Duis non congue lectus. Cras lectus diam, dapibus in tincidunt sit amet, ultrices vel nulla. Nunc nec tortor mauris.</p></div></div><div class="card"><div class="item item-divider">Rules 4</div><div class="item item-text-wrap"><p>Feget vulputate condimentum, nulla lectus sollicitudin velit, non vestibulum mauris arcu eu nulla.</p><p>Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Donec molestie condimentum nisi, vel suscipit lectus rhoncus nec.</p><p>Praesent rhoncus lacus id lorem aliquam, varius lobortis nulla laoreet.</p><p>Pellentesque vitae mauris a magna varius ullamcorper sit amet eu tortor. Duis non congue lectus. Cras lectus diam, dapibus in tincidunt sit amet, ultrices vel nulla. Nunc nec tortor mauris.</p></div></div><div class="card"><div class="item item-divider">Rules 5</div><div class="item item-text-wrap"><p>Feget vulputate condimentum, nulla lectus sollicitudin velit, non vestibulum mauris arcu eu nulla.</p><p>Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Donec molestie condimentum nisi, vel suscipit lectus rhoncus nec.</p><p>Praesent rhoncus lacus id lorem aliquam, varius lobortis nulla laoreet.</p><p>Pellentesque vitae mauris a magna varius ullamcorper sit amet eu tortor. Duis non congue lectus. Cras lectus diam, dapibus in tincidunt sit amet, ultrices vel nulla. Nunc nec tortor mauris.</p></div></div></ion-content></div>')}]),angular.module("myhouses/nearby.tpl.html",[]).run(["$templateCache",function(a){a.put("myhouses/nearby.tpl.html",'<ion-content class="has-header has-tabs"><div class="list card"><div class="item item-divider">Nearby stores</div><div class="item item-avatar"><img src="https://dh0nmc0lejrcs.cloudfront.net/images/logo_1.png"><p>Lorem ipsum dolor sit amet</p></div><div class="item item-avatar"><img src="http://www.hscripts.com/freeimages/logos/brands-of-the-world/starbucks-coffee/starbucks-coffee-clipart-128.gif"><p>Lorem ipsum dolor sit amet</p></div><div class="item item-avatar"><img src="http://www.r-kioski.fi/fileadmin/template/k/2011/logo.png"><p>Lorem ipsum dolor sit amet</p></div></div></ion-content>')}]),angular.module("myhouses/pinboard/modals/new_pin.tpl.html",[]).run(["$templateCache",function(a){a.put("myhouses/pinboard/modals/new_pin.tpl.html",'<div class="modal"><ion-header-bar class="bar-sd-header"><h1 class="title">{{modal.title}}</h1><div class="buttons"><button class="button-icon button disable-user-behavior icon ion-ios7-close-empty" ng-click="closeModal()"></button></div></ion-header-bar><ion-content class="has-header" ng-controller="HMyHousesPinboard_NewPin_Ctrl"><div class="list"><label class="item item-input"><input type="text" placeholder="Title" ng-model="pin.title"></label><label class="item item-input"><textarea placeholder="Content" ng-model="pin.description"></textarea></label></div><div class="padding"><button class="button button-block" ng-click="createPin(pin)">Create</button></div></ion-content></div>')}]),angular.module("myhouses/pinboard/pinboard-index.tpl.html",[]).run(["$templateCache",function(a){a.put("myhouses/pinboard/pinboard-index.tpl.html",'<ion-content class="has-header has-tabs" bindonce="pins"><div class="card"><div class="item item-text-wrap"><b>NOTICE: Water and electricity is not avaible from 10-12 on 12/5/2014 due to our yearly maintenance</b></div></div><div class="card"><div class="item item-text-wrap">Our yearly community meeting at 7.30pm on 15/05/2014. Everyone is warmly welcome.</div></div><div class="list card"><div class="item item-avatar"><img src="https://dh0nmc0lejrcs.cloudfront.net/images/logo_1.png"><p>50% off for all kind of pizza from 01/06/2014 to 07/06/2014</p></div></div><div class="list card"><div class="item item-avatar"><img src="http://www.alepa.fi/uploads/pics/alepa-logo.png"><p>Salmon 5eur/kg! ONLY IN THIS WEEK</p></div></div><div class="list card" ng-repeat="pin in pins"><div class="item"><h2 bo-text="pin.title"></h2><p bo-text="pin.description"></p><p bo-text="pin.from"></p></div></div><div class="list card"><div class="item item-avatar"><img src="http://ionicframework.com/img/docs/mcfly.jpg"><h2>Marty McFly - A5</h2><p>Free sofa. Pick up at A5</p></div><div class="item item-body"><img class="full-image" src="http://www.city-data.com/forum/attachments/classified-ads/26579d1220372300-burgundy-leather-sofa-loveseat-sale-sofa.jpg"><p>Free sofa. Pick up at A5 - or call me 044141242</p><p><a class="subdued">1 Like</a> <a class="subdued">5 Comments</a></p></div></div></ion-content>')}]),angular.module("myhouses/tabs.tpl.html",[]).run(["$templateCache",function(a){a.put("myhouses/tabs.tpl.html",'<ion-view title="{{$state.current.data.title}}"><ion-nav-buttons side="left"><button menu-toggle="left" class="button button-icon icon ion-navicon"></button></ion-nav-buttons><ion-nav-buttons side="right"><button ng-click="newPinboardBtnClicked()" ng-if="newPinboardBtnVisible" class="button-icon button disable-user-behavior ion-ios7-plus-empty"></button></ion-nav-buttons><ion-tabs class="tabs-light tabs-icon-top"><ion-tab title="Pinboard" icon="ion-pin" ui-sref="app.myhouses.pinboard" on-select="onTabSelected(\'app.myhouses.pinboard\')" on-deselect="onTabDeselected(\'app.myhouses.pinboard\')"><ion-nav-view name="myhouses-pinboard"></ion-nav-view></ion-tab><ion-tab title="Info" icon="ion-ios7-information" ui-sref="app.myhouses.info"><ion-nav-view name="myhouses-info"></ion-nav-view></ion-tab><ion-tab title="Calendar" icon="ion-ios7-calendar" ui-sref="app.myhouses.calendar"><ion-nav-view name="myhouses-calendar"></ion-nav-view></ion-tab><ion-tab title="Nearby" icon="ion-ios7-location" ui-sref="app.myhouses.nearby"><ion-nav-view name="myhouses-nearby"></ion-nav-view></ion-tab><ion-tab title="Contact" icon="ion-ios7-telephone" ui-sref="app.myhouses.contact"><ion-nav-view name="myhouses-contact"></ion-nav-view></ion-tab></ion-tabs></ion-view>')}]),angular.module("user/info.add_house.tpl.html",[]).run(["$templateCache",function(a){a.put("user/info.add_house.tpl.html",'<div class="modal"><ion-header-bar class="bar-sd-header"><h1 class="title">Where do you live?</h1><div class="buttons"><button class="button-icon button disable-user-behavior icon ion-ios7-close-empty" ng-click="closeModal(addHouseModal, true)"></button></div></ion-header-bar><ion-content has-header="true" bindonce="houses"><div class="list"><ion-radio type="radio" ng-model="$parent.selectedHouseId" ng-value="house.id" ng-repeat="house in all_houses">{{house.address}}</ion-radio></div><div class="padding"><button class="button button-block button-positive" ng-click="saveHouse(selectedHouseId)">Save</button></div></ion-content></div>')}]),angular.module("user/info.edit_basic_info.tpl.html",[]).run(["$templateCache",function(a){a.put("user/info.edit_basic_info.tpl.html",'<div class="modal"><ion-header-bar class="bar-sd-header"><h1 class="title">Personal Information</h1><div class="buttons"><button class="button-icon button disable-user-behavior icon ion-ios7-close-empty" ng-click="closeModal(basicInfoModal, true)"></button></div></ion-header-bar><ion-content has-header="true"><div class="card"><div class="item item-divider">Basic Information</div><label class="item item-input"><input type="text" placeholder="Full Name (e.g. Pasi Tiimo)" ng-model="userBasicInfo.full_name"></label><label class="item item-input"><input type="tel" placeholder="Phone Number (e.g. 358443460162)" ng-model="userBasicInfo.phone_number"></label></div><div class="padding"><button class="button button-block button-positive" ng-click="updateBasicInfo()">Update</button></div></ion-content></div>')}]),angular.module("user/info.edit_house_info.tpl.html",[]).run(["$templateCache",function(a){a.put("user/info.edit_house_info.tpl.html",'<div class="modal"><ion-header-bar class="bar-sd-header"><h1 class="title">{{userSelectedHouseInfo.address}}</h1><div class="buttons"><button class="button-icon button disable-user-behavior icon ion-ios7-close-empty" ng-click="closeModal(houseInfoModal, true)"></button></div></ion-header-bar><ion-content has-header="true"><div class="card"><label class="item item-input"><input type="text" placeholder="Room Number (e.g. B43)" ng-model="userSelectedHouseInfo.room_number"></label><label class="item item-input"><input type="text" placeholder="Door Name Plate (e.g. Pasi & Laura)" ng-model="userSelectedHouseInfo.name_plate"></label><ion-toggle ng-model="userSelectedHouseInfo.is_living_now">I\'m living here now</ion-toggle><ion-toggle ng-model="userSelectedHouseInfo.is_received_post_office_notification">Recevie e-notifications from post office</ion-toggle><ion-toggle ng-model="userSelectedHouseInfo.is_received_nearby_ads">Recevie nearby stores\' ads</ion-toggle></div><div class="padding"><button class="button button-block button-positive" ng-click="updateHouseInfo()">Update</button></div></ion-content></div>')}]),angular.module("user/info.tpl.html",[]).run(["$templateCache",function(a){a.put("user/info.tpl.html",'<ion-view title="Settings"><ion-nav-buttons side="left" ng-if="userBasicInfo.full_name"><button menu-toggle="left" class="button button-icon icon ion-navicon"></button></ion-nav-buttons><ion-content class="has-header"><div class="card" ng-if="!userBasicInfo.full_name"><div class="item item-text-wrap">It seems that you don\'t have detail personal information. Please update before using the app!</div><button class="button button-block button-outline button-outline" ng-click="openModal(basicInfoModal)">Update</button></div><div class="list card"><div class="item item-divider item-icon-right">Personal Information <i class="icon ion-ios7-compose-outline" ng-click="openModal(basicInfoModal)"></i></div><div class="item item-avatar"><img ng-src="{{userBasicInfo.avatar_url}}"><h2>{{userBasicInfo.full_name}}</h2><p>{{userBasicInfo.phone_number}}</p></div></div><div class="card" ng-repeat="userHouseInfo in userHouseInfos"><div class="item item-divider item-icon-right">{{userHouseInfo.address}} <i class="icon ion-ios7-compose-outline" ng-click="openHouseInfoModal(userHouseInfo)"></i></div><div class="item item-text-wrap">Room Number: {{userHouseInfo.room_number}}</div><div class="item item-text-wrap">Apartment\'s name plate: {{userHouseInfo.name_plate}}</div><ion-toggle ng-disabled="true" ng-model="userHouseInfo.is_living_now">I\'m living here now</ion-toggle><ion-toggle ng-disabled="true" ng-model="userHouseInfo.is_received_post_office_notification">Recevie e-notifications from post office</ion-toggle><ion-toggle ng-disabled="true" ng-model="userHouseInfo.is_received_nearby_ads">Recevie nearby stores\' ads</ion-toggle></div><div class="padding" ng-if="userHouseInfos.length == 0 && userBasicInfo.full_name"><button class="button button-block" ng-click="openAddHouseModal()">Add your first house</button></div></ion-content></ion-view>')}]),angular.module("user/login.tpl.html",[]).run(["$templateCache",function(a){a.put("user/login.tpl.html",'<ion-view title="Login"><ion-content class="has-header"><div class="item item-text-wrap"><br><p>Feget vulputate condimentum, nulla lectus sollicitudin velit, non vestibulum mauris arcu eu nulla.</p></div><div class="row"><div class="col"><label class="item item-input item-select"><div class="input-label">{{selectedTelCode.country}}</div><select ng-model="$parent.selectedTelCode" ng-options="tel_code.code for tel_code in tel_country_codes" style="padding-right:30px"></select></label></div><div class="col col-50"><div class=""><label class="item item-input"><input type="tel" placeholder="Phone number" ng-model="phone_number"></label></div></div></div><div class="list list-inset" ng-show="is_code_sent"><label class="item item-input"><input type="number" pattern="\\d*" placeholder="Comfirmation code" ng-model="confirmation_code"></label></div><div class="padding"><button class="button button-block" ng-show="!is_code_sent" ng-click="request_code(phone_number)">Request Confirmation Code</button> <button class="button button-block" ng-show="is_code_sent" ng-click="confirm_code(phone_number,confirmation_code)">Confirm</button></div></ion-content></ion-view>')
}]),this.app=angular.module("angularapp",["templates-app","ionic","angular-lodash","qp-common","pasvaz.bindonce","qp-housing","qp-loader","firebase","angularMoment","nvd3ChartDirectives"]),app.run(["$rootScope","$stateParams","$state",function(a,b,c){return a.$stateParams=b,a.$state=c}]),app.controller("HAppCtrl",["$scope","QPHousingServices","$ionicSideMenuDelegate","$timeout","$state","QPNotificationServices","$ionicViewService","QPLoader",function(a,b,c,d,e,f,g,h){var i,j,k,l,m;return k=b({loader:h}),j=function(){return k.user.current_userid().then(function(b){return a.current_userid=b})},i=function(){return k.user.my_houses().then(function(b){return a.user_house_id=b&&b.data[0]?b.data[0].id:-1})},m=function(){return f.sub("NOTIFICATION_RELOAD_CURRENT_USER_INFO",a,function(){return j(),i()}),f.sub("NOTIFICATION_RELOAD_CURRENT_USER_HOUSE",a,function(){return i()})},a.logout=function(){return k.user.logout().then(function(a){return"logout_success"===a?(f.pub("NOTIFICATION_RELOAD_CURRENT_USER_INFO"),e.go("app.user_login").then(function(){return g.clearHistory()})):void 0})},(l=function(){return m(),j(),i()})()}]),app.controller("HBookingsIndexCtrl",["$scope","QPHousingServices","$ionicActionSheet","$state","$timeout","QPLoader","$ionicModal","QPNotificationServices",function(a,b,c,d,e,f,g,h){var i,j,k,l;return k=b({loader:f}),i=function(){return k.facilities.all("Loading ...").then(function(b){return a.facilities=b.data,angular.forEach(a.facilities,function(a){return a.text=a.name})})},j=function(){return k.bookings.all("Loading ...").then(function(b){return a.my_bookings=b.data})},a.openFacilityBookingDetail=function(b){return g.fromTemplateUrl("myhouses/calendar/modals/facility_booking_detail.tpl.html",{scope:a,animation:"slide-in-up"}).then(function(c){return a.modal=c,a.modal.title=b.name,a.modal.show().then(function(){return h.pub("NOTIFICATION_SEND_FACILITY_ID",{facility:b})})})},a.closeModal=function(){return a.modal.hide().then(function(){return a.modal.remove()})},a.triggerActionSheet=function(){return c.show({buttons:a.facilities,titleText:"Select a facility to make new booking",cancelText:"Cancel",buttonClicked:function(b){return a.openFacilityBookingDetail(a.facilities[b]),!0}})},a.deleteBookingSlot=function(a){return console.log(a)},l=function(){return j(),i()},e(function(){return l()},100)}]),app.controller("HHouseDetailCtrl",["$scope","$stateParams","QPHousingServices","$timeout","QPNotificationServices","$state","QPLoader","$ionicModal",function(a,b,c,d,e,f,g,h){var i,j,k;return j=c({loader:g}),i=function(){return j.houses.get(b.houseId,"Loading ...").then(function(b){return a.house=b.data})},a.join_house=function(){return j.houses.add_current_user(b.houseId,"Joining ...").then(function(){return e.pub("NOTIFICATION_RELOAD_CURRENT_USER_HOUSE"),i()})},a.openInfoModal=function(b,c){return h.fromTemplateUrl("myhouses/info/modals/"+b+".tpl.html",{scope:a,animation:"slide-in-up"}).then(function(b){return a.modal=b,a.modal.title=c,a.modal.show().then(function(){})})},a.closeModal=function(){return a.modal.hide().then(function(){return a.modal.remove()})},k=function(){return i()},d(function(){return k()},100)}]),app.controller("HHousesIndexCtrl",["$scope","$stateParams","QPHousingServices","$timeout","$state","QPLoader",function(a,b,c,d,e,f){var g,h,i,j;return g=c({loader:f}),j=function(a){return e.go("app.house",{houseId:a})},i=function(){return g.houses.all("Loading ...").then(function(b){return a.houses=b.data})},h=function(){return g.user.my_houses().then(function(a){return a.data[0]?j(a.data[0].id):i()})},d(function(){return h()},100)}]),app.controller("HLoginCtrl",["$scope","$stateParams","$timeout","$state","QPHousingServices","QPNotificationServices","$ionicViewService","QPLoader",function(a,b,c,d,e,f,g,h){var i,j,k,l;return k=e({loader:h}),a.is_code_sent=!1,a.tel_country_codes=[{country:"FI",code:"+358"},{country:"SE",code:"+46"},{country:"DE",code:"+49"}],a.selectedTelCode=a.tel_country_codes[0],a.is_code_sent=!1,j=function(b){return"0"===b[0]&&(b=b.substring(1)),a.selectedTelCode.code+b},a.request_code=function(b){return k.user.request(j(b),"Loading ...").then(function(b){return"code_sent"===b.data.status?a.is_code_sent=!0:void 0})},a.confirm_code=function(a,b){return k.user.login(j(a),b,"Loading ...").then(function(a){return"code_matched"===a.data.status?(f.pub("NOTIFICATION_RELOAD_CURRENT_USER_INFO"),a.data.user_first_house_id>0?d.go("app.myhouses.pinboard",{houseId:a.data.user_first_house_id}).then(function(){return g.clearHistory()}):d.go("app.user_info").then(function(){return g.clearHistory()})):void 0})},i=function(){return k.user.current_userid().then(function(a){return a>0?d.go("app.user_info").then(function(){return g.clearHistory()}):void 0})},l=function(){return i()},c(function(){return l()},100)}]),app.controller("HMessagesIndexCtrl",["$scope","$timeout","$ionicModal","QPHousingServices","QPLoader",function(a,b,c,d,e){var f,g,h;return g=d({loader:e}),f=function(){return g.user.getMessages("Loading ...").then(function(b){return a.messages=b})},a.triggerNewMessageModal=function(){return c.fromTemplateUrl("messages/modals/new.tpl.html",{scope:a,animation:"slide-in-up"}).then(function(b){return a.modal=b,a.modal.title="New message",a.modal.show().then(function(){})})},a.closeModal=function(){return a.modal.hide().then(function(){return a.modal.remove()})},h=function(){return f()},b(function(){return h()},100),a.$on("$destroy",function(){return a.modal?a.modal.remove():void 0})}]),app.controller("HMessagesIndex_NewMessage_Ctrl",["$scope","$stateParams","QPHousingServices","$timeout","$ionicModal","QPNotificationServices","QPLoader",function(a){return a.message={},a.sendMessage=function(a){return console.log(a)}}]),app.controller("HMyHousesCalendarCtrl",["$scope","$stateParams","QPHousingServices","$timeout","QPNotificationServices","$state","$ionicModal","QPLoader",function(a,b,c,d,e,f,g,h){var i,j,k;return j=c({loader:h}),i=function(){return j.houses.get_facilities(b.houseId,"Loading ...").then(function(b){return a.facilities=b.data})},a.openFacilityBookingDetail=function(b){return g.fromTemplateUrl("myhouses/calendar/modals/facility_booking_detail.tpl.html",{scope:a,animation:"slide-in-up"}).then(function(c){return a.modal=c,a.modal.title=b.name,a.modal.show().then(function(){return e.pub("NOTIFICATION_SEND_FACILITY_ID",{facility:b})})})},a.closeModal=function(){return a.modal.hide().then(function(){return a.modal.remove()})},(k=function(){return i()})()}]),app.controller("HMyHousesCalendar_FacilityBookingDetailModal_Ctrl",["$scope","$stateParams","QPHousingServices","$firebase","$timeout","QPNotificationServices","QPLoader",function(a,b,c,d,e,f,g){var h,i,j,k,l,m;return i=c({loader:g}),k=function(){return console.log(a.facilityId),a.bookings=d(new Firebase("https://housing.firebaseio.com/facilities/"+a.facilityId+"/bookings"))},l=function(){var b,c,d;for(a.slot_arr=[],b=c=7;21>=c;b=++c)a.slot_arr.push(b+"-"+(b+1));for(a.date_arr=[],b=d=0;13>=d;b=++d)a.date_arr.push(moment().add("days",b));return a.select_date(a.date_arr[0]),a.today_string=a.date_arr[0].format("YYYY-MM-DD")},a.select_date=function(b){return a.current_date=b,a.current_date_string=a.current_date.format("YYYY-MM-DD")},h=function(){return i.facilities.get(a.facilityId,"Loading ...").then(function(b){return a.facility_info=b.data})},a.book_slot=function(b,c){return i.bookings.create(a.facilityId,c.format("YYYY-MM-DD"),b,"Saving ...").then(function(){})},m=function(){return f.sub("NOTIFICATION_SEND_FACILITY_ID",a,function(b){return a.facilityId=b.facility.id,k(),l(),h()})},(j=function(){return m()})()}]),app.controller("HMyHousesContactCtrl",["$scope",function(){}]),app.controller("HMyHousesInfoCtrl",["$scope","$stateParams","QPHousingServices","$timeout","QPNotificationServices","$state","$ionicModal","QPLoader",function(a,b,c,d,e,f,g,h){var i,j,k;return j=c({loader:h}),i=function(){return j.houses.get(b.houseId,"Loading ...").then(function(b){return a.house=b.data})},a.join_house=function(){return j.houses.add_current_user(b.houseId,"Joining ...").then(function(){return e.pub("NOTIFICATION_RELOAD_CURRENT_USER_HOUSE"),i()})},a.leave_house=function(){return j.houses.remove_current_user(b.houseId,"Leaving ...").then(function(){return e.pub("NOTIFICATION_RELOAD_CURRENT_USER_HOUSE"),f.go("app.houses")})},a.openInfoModal=function(b,c){return g.fromTemplateUrl("myhouses/info/modals/"+b+".tpl.html",{scope:a,animation:"slide-in-up"}).then(function(b){return a.modal=b,a.modal.title=c,a.modal.show().then(function(){})})},a.closeModal=function(){return a.modal.hide().then(function(){return a.modal.remove()})},(k=function(){return i()})()}]),app.controller("HMyHousesInfoModal_Energy_Consumption_Ctrl",["$scope",function(a){return a.general_consumption={data:[{key:"General Consumption",values:[[10254096e5,0],[1028088e6,-6.3382185140371],[10307664e5,-5.9507873460847],[10333584e5,-11.569146943813],[10360404e5,-5.4767332317425],[10386324e5,.50794682203014],[10413108e5,-5.5310285460542],[10439892e5,-5.7838296963382],[10464084e5,-7.3249341615649],[10490868e5,-6.7078630712489],[10516752e5,.44227126150934],[10543536e5,7.2481659343222],[10569456e5,9.2512381306992],[1059624e6,11.341210982529],[10623024e5,14.73482040902],[10648944e5,12.387148007542],[10675764e5,18.436471461827],[10701684e5,19.830742266977],[10728468e5,22.643205829887],[10755252e5,26.743156781239],[10780308e5,29.597478802228],[10807092e5,30.831697585341],[10832976e5,28.054068024708],[1085976e6,29.294079423832],[1088568e6,30.269264061274],[10912464e5,24.934526898906],[10939248e5,24.265982759406],[10965168e5,27.217794897473],[10991952e5,30.802601992077],[11017908e5,36.331003758254],[11044692e5,43.14249870006],[11071476e5,40.558263931958],[11095668e5,42.5436223858],[11122452e5,41.683584710331],[11148336e5,36.375367302328],[1117512e6,40.71968898073],[1120104e6,43.897963036919],[11227824e5,49.797033975368],[11254608e5,47.085993935989],[11280528e5,46.601972859745],[11307348e5,41.567784572762],[11333268e5,47.296923737245],[11360052e5,47.64296961208],[11386836e5,50.781515820954],[11411028e5,52.600229204305],[11437812e5,55.599684490628],[11463696e5,57.920388436633],[1149048e6,53.503593218971],[115164e7,53.522973979964],[11543184e5,49.846822298548],[11569968e5,54.72134161465],[11595888e5,58.186236223191],[11622708e5,63.908065540997],[11648628e5,69.767285129367],[11675412e5,72.534013373592],[11702196e5,77.991819436573],[11726388e5,78.14358440499],[11753136e5,83.702398665233],[11779056e5,91.140859312418],[1180584e6,98.590960607028],[1183176e6,96.245634754228],[11858544e5,92.326364432615],[11885328e5,97.06876533223],[11911248e5,105.8102555626],[11938032e5,114.38348777791],[11963988e5,103.5960494981],[11990772e5,101.72488429307],[12017556e5,89.840147735028],[12042612e5,86.963597532664],[1206936e6,84.075505208491],[1209528e6,93.170105645831],[12122064e5,103.62838083121],[12147984e5,87.458241365091],[12174768e5,85.808374141319],[12201552e5,93.158054469193],[12227472e5,65.97325238236],[12254256e5,44.580686638224],[12280212e5,36.418977140128],[12306996e5,38.727678144761],[1233378e6,36.692674173387],[12357972e5,30.03302280948],[1238472e6,36.707532162718],[1241064e6,52.191457688389],[12437424e5,56.357883979735],[12463344e5,57.629002180305],[12490128e5,66.650985790166],[12516912e5,70.839243432186],[12542832e5,78.731998491499],[12569616e5,72.375528540349],[12595572e5,81.73838788163],[12622356e5,87.539792394232],[1264914e6,84.320762662273],[12673332e5,90.621278391889],[1270008e6,102.47144881651],[12726e8,102.79320353429],[12752784e5,90.529736050479],[12778704e5,76.580859994531],[12805488e5,86.548979376972],[12832272e5,81.879653334089],[12858192e5,101.72550015956],[12884976e5,107.9796485226],[12910932e5,106.16240630785],[12937716e5,114.84268599533],[129645e7,121.60793322282],[12988692e5,133.41437346605],[1301544e6,125.46646042904],[1304136e6,129.76784954301],[13068144e5,128.15798861044],[13094064e5,121.92388706072],[13120848e5,116.7003610087],[13147632e5,88.367701837033],[13173552e5,59.159665765725],[13200336e5,79.793568139753],[13226292e5,75.903834028417],[13253076e5,72.704218209157],[1327986e6,84.936990804097],[13304916e5,93.388148670744]]}],xAxisTicksFunction:function(){return function(){return d3.svg.axis().ticks(d3.time.minutes,5)}}},a.energy_use={data:[{key:"Space Heating",y:20},{key:"Water Heating",y:12},{key:"Lighting",y:2},{key:"Space Cooling",y:1},{key:"Cooking",y:4},{key:"Electronics",y:.5},{key:"Other",y:1.5}],xFunction:function(){return function(a){return a.key}},yFunction:function(){return function(a){return a.y}}}}]),app.controller("HMyHousesInfoModal_FinancialInformation_Ctrl",["$scope",function(){}]),app.controller("HMyHousesInfoModal_GeneralMeetingNotes_Ctrl",["$scope",function(){}]),app.controller("HMyHousesInfoModal_RenovationStatus_Ctrl",["$scope",function(a){return a.exampleData=[{key:"Graph 1",values:[[1378387200,20],[1378387500,60],[1378387800,40]]},{key:"Graph 2",values:[[1378387200,0],[1378387500,50],[1378387800,126]]}],a.xAxisTicksFunction=function(){return function(){return d3.svg.axis().ticks(d3.time.minutes,5)}},a.xAxisTickFormatFunction=function(){return function(a){return d3.time.format("%H:%M")(moment.unix(a).toDate())}}}]),app.controller("HMyHousesInfoModal_Rules_Ctrl",["$scope",function(a){return a.stores=[{description:"Lorem ipsum dolor sit amet",img_url:"https://dh0nmc0lejrcs.cloudfront.net/images/logo_1.png"},{description:"Lorem ipsum dolor sit amet",img_url:"http://www.hscripts.com/freeimages/logos/brands-of-the-world/starbucks-coffee/starbucks-coffee-clipart-128.gif"},{description:"Lorem ipsum dolor sit amet",img_url:"http://www.r-kioski.fi/fileadmin/template/k/2011/logo.png"},{description:"Lorem ipsum dolor sit amet",img_url:"https://dh0nmc0lejrcs.cloudfront.net/images/logo_1.png"},{description:"Lorem ipsum dolor sit amet",img_url:"http://www.hscripts.com/freeimages/logos/brands-of-the-world/starbucks-coffee/starbucks-coffee-clipart-128.gif"},{description:"Lorem ipsum dolor sit amet",img_url:"http://www.r-kioski.fi/fileadmin/template/k/2011/logo.png"}]}]),app.controller("HMyHousesNearbyCtrl",["$scope",function(){}]),app.controller("HMyHousesPinboardCtrl",["$scope","$stateParams","QPHousingServices","$timeout","$ionicModal","QPNotificationServices","QPLoader",function(a,b,c,d,e,f,g){var h,i,j,k,l;return i=c({loader:g}),k=function(){return e.fromTemplateUrl("myhouses/pinboard/modals/new_pin.tpl.html",{scope:a,animation:"slide-in-up"}).then(function(b){return a.modal=b,a.modal.title="New pin",a.modal.show().then(function(){})})},a.closeModal=function(){return a.modal.hide().then(function(){return a.modal.remove()})},h=function(){return a.pin={},i.houses.get_pins(b.houseId,"Loading pins...").then(function(b){return a.pins=b.data})},l=function(){return f.sub("NOTIFICATION_RELOAD_HOUSE_PINS",a,function(){return h()}),f.sub("NOTIFICATION_NEW_PINBOARD_BUTTON_CLICKED",a,function(){return k()})},j=function(){return l(),h()},j(),a.$on("$destroy",function(){return a.modal?a.modal.remove():void 0})}]),app.controller("HMyHousesPinboard_NewPin_Ctrl",["$scope","$stateParams","QPHousingServices","$timeout","$ionicModal","QPNotificationServices","QPLoader",function(a,b,c,d,e,f,g){var h;return h=c({loader:g}),a.pin={},a.createPin=function(c){return h.houses.add_pin(b.houseId,{pin:c},"Saving ...").then(function(){return a.modal.hide(),f.pub("NOTIFICATION_RELOAD_HOUSE_PINS")})}}]),app.controller("HMyHousesTabsCtrl",["$scope","QPNotificationServices",function(a,b){return a.newPinboardBtnVisible=!1,a.onTabSelected=function(b){switch(b){case"app.myhouses.pinboard":return a.newPinboardBtnVisible=!0}},a.onTabDeselected=function(b){switch(b){case"app.myhouses.pinboard":return a.newPinboardBtnVisible=!1}},a.newPinboardBtnClicked=function(){return b.pub("NOTIFICATION_NEW_PINBOARD_BUTTON_CLICKED")}}]),app.controller("HUserInfoCtrl",["$scope","$stateParams","$timeout","$state","QPHousingServices","QPNotificationServices","$ionicModal","QPLoader",function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n;return k=e({loader:h}),a.updateBasicInfo=function(){return k.user.update_basic_user_info(a.userBasicInfo,"Saving ...").then(function(b){return 200===b.status?a.closeModal(a.basicInfoModal):void 0})},a.updateHouseInfo=function(){return k.user.update_house_info(a.userSelectedHouseInfo,"Saving ...").then(function(b){return 200===b.status?(f.pub("NOTIFICATION_RELOAD_CURRENT_USER_HOUSE"),a.closeModal(a.houseInfoModal,!0)):void 0})},a.saveHouse=function(b){return k.houses.add_current_user(b,"Saving ...").then(function(){return a.addHouseModal.hide(),k.user.houses_info().then(function(b){return a.userHouseInfos=b.data,b.data[0]&&(a.userSelectedHouseInfo=b.data[0]),a.openHouseInfoModal(a.userSelectedHouseInfo)})})},m=function(){return a.openModal=function(a){return a.show()},a.openHouseInfoModal=function(b){return a.userSelectedHouseInfo=b,a.houseInfoModal.show()},a.openAddHouseModal=function(){return a.addHouseModal.show(),a.all_houses?void 0:(console.log("load all houses"),k.houses.all().then(function(b){return a.all_houses=b.data}))},a.closeModal=function(b,c){return b.hide(),c&&(b===a.basicInfoModal&&i(),b===a.houseInfoModal&&j()),b===a.addHouseModal?console.log("okie"):void 0},g.fromTemplateUrl("user/info.edit_basic_info.tpl.html",{scope:a,animation:"slide-in-up"}).then(function(b){return a.basicInfoModal=b}),g.fromTemplateUrl("user/info.edit_house_info.tpl.html",{scope:a,animation:"slide-in-up"}).then(function(b){return a.houseInfoModal=b}),g.fromTemplateUrl("user/info.add_house.tpl.html",{scope:a,animation:"slide-in-up"}).then(function(b){return a.addHouseModal=b}),a.$on("$destroy",function(){return a.basicInfoModal.remove(),a.houseInfoModal.remove(),a.addHouseModal.remove()})},i=function(){return k.user.basic_info().then(function(b){return a.userBasicInfo=b.data})},j=function(){return k.user.houses_info().then(function(b){return a.userHouseInfos=b.data,b.data[0]?a.userSelectedHouseInfo=b.data[0]:void 0})},n=function(){return f.sub("NOTIFICATION_RELOAD_CURRENT_USER_HOUSE",a,function(){return j()})},l=function(){return i(),j(),m(),n()},c(function(){return l()},100)}]),app.config(["$stateProvider","$urlRouterProvider",function(a){return a.state("app.bookings",{url:"/bookings",views:{menuContent:{controller:"HBookingsIndexCtrl",templateUrl:"bookings/index.tpl.html"}}})}]),app.config(["$stateProvider","$urlRouterProvider",function(a,b){return b.otherwise("/app/user_login"),a.state("app",{url:"/app","abstract":!0,controller:"HAppCtrl",templateUrl:"menu.tpl.html"})}]),app.config(["$stateProvider","$urlRouterProvider",function(a){return a.state("app.houses",{url:"/houses",views:{menuContent:{controller:"HHousesIndexCtrl",templateUrl:"houses/index.tpl.html"}}}),a.state("app.house",{url:"/house/:houseId",views:{menuContent:{controller:"HHouseDetailCtrl",templateUrl:"houses/detail.tpl.html"}}})}]),app.config(["$stateProvider","$urlRouterProvider",function(a){return a.state("app.messages",{url:"/messages",views:{menuContent:{controller:"HMessagesIndexCtrl",templateUrl:"messages/index.tpl.html"}}})}]),app.config(["$stateProvider","$urlRouterProvider",function(a){return a.state("app.myhouses",{url:"/myhouses/:houseId","abstract":!0,views:{menuContent:{controller:"HMyHousesTabsCtrl",templateUrl:"myhouses/tabs.tpl.html"}}}),a.state("app.myhouses.pinboard",{url:"/pinboard",views:{"myhouses-pinboard":{controller:"HMyHousesPinboardCtrl",templateUrl:"myhouses/pinboard/pinboard-index.tpl.html"}},data:{title:"Pinboard"}}),a.state("app.myhouses.info",{url:"/info",views:{"myhouses-info":{controller:"HMyHousesInfoCtrl",templateUrl:"myhouses/info/info-index.tpl.html"}},data:{title:"Info"}}),a.state("app.myhouses.calendar",{url:"/calendar",views:{"myhouses-calendar":{controller:"HMyHousesCalendarCtrl",templateUrl:"myhouses/calendar/calendar-index.tpl.html"}},data:{title:"Calendar"}}),a.state("app.myhouses.nearby",{url:"/nearby",views:{"myhouses-nearby":{controller:"HMyHousesNearbyCtrl",templateUrl:"myhouses/nearby.tpl.html"}},data:{title:"Nearby"}}),a.state("app.myhouses.contact",{url:"/contact",views:{"myhouses-contact":{controller:"HMyHousesContactCtrl",templateUrl:"myhouses/contact.tpl.html"}},data:{title:"Contact"}})}]),app.config(["$stateProvider","$urlRouterProvider",function(a){return a.state("app.user_login",{url:"/user_login",views:{menuContent:{controller:"HLoginCtrl",templateUrl:"user/login.tpl.html"}}}),a.state("app.user_info",{url:"/user_info",views:{menuContent:{controller:"HUserInfoCtrl",templateUrl:"user/info.tpl.html"}}})}]);